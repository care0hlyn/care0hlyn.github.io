<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Carolyn Huynh</title>
    <meta name="description" content="Blueprint: Split Layout" />
    <meta name="keywords" content="website template, layout, css3, transition, effect, split, dual, two sides, portfolio" />
    <meta name="author" content="Codrops" />
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/demo.css" />
    <link rel="stylesheet" type="text/css" href="css/component.css" />
    <script src="js/modernizr.custom.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="project-page">
        <div class="nav">
            <a href="index.html"> < Home</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="goline.html">Next > </a>
        </div>
        <div class="project">
            <center><h1>"The Tweet Spot" | @spottedatgould</h1></center>
            <h3>Research Question:</h3>
            <p>How might we make Gould Hall a responsive environment as a social commentary?</p>
            <center><img src="img/tweetlogo.jpg" alt="logo"></center>
            <h3>About:</h3>
            <p>@SpottedAtGould looked to make Gould Hall, the architecture building at the University of Washington, more responsive to it's inhabitants. Dana and I wanted to use cameras and social media as a way to let Gould Hall react to the people in the building.</p>
            <h3>Purpose:</h3>
            <p>This installation represents the interconnectedness of reality and social media. This project suggests that no one was really in Gould Hall unless they were spotted and tweeted. It plays on sites that once were popular on college campuses and in local newspapers where people can share missed love connections by saying that they spotted x person at y location.</p>

            <p>Now, instead of having a person to have to post or send in a description, the building it self can send and post "spotted at Gould" messages to the Internet.</p> 

            <p>See who was spotted at Gould Hall on Twitter.</p>

            <h3>How does this work?</h3>
            <p>Using Arduino, a pressure sensor, sonar sensor, Processing, web cam and a computer, a user walks towards the webcam and the photo screen displayed on the monitor becomes more or less pixelated depending on the distance of the user and the webcam. Once the user steps on the the mat, the pressure sensor is triggered and a picture of the user is sent automatically towards Twitter, where a live feed is currently being hosted at @SpottedAtGould.</p>

            <table>
                <tr>
                    <td><center><img src="img/1.jpg" alt="logo"></center></td>
                    <td><center><img src="img/2.jpg" alt="logo"></center></td>
                <tr>
            </table>
          <!--   <center><img src="img/1.jpg" alt="logo">&nbsp;<img src="img/2.jpg" alt="logo"></center> -->

            <h3>Follow the live Twitter feed, @spottedatgould:</h3>
            <a class="embedly-card" href="https://twitter.com/SpottedAtGould">UW Arch498 Project (@SpottedAtGould) | Twitter</a>
            <h3>Processing Code:</h3>
            <pre><code>
            import processing.serial.*;
            Serial myPort;  // Create object from Serial class
            String val;     // Data received from the serial port
            import twitter4j.*;
              int v=100;
            String in;

            import processing.video.Capture;
            /** webcam_pixels
             *
             * Reveals the webcam image slowly as number of sample points is increased.
             *
             */
             
            import processing.video.*;
            import java.util.*; 
            Twitter twitter;
            File file = new File("");
            //Build an ArrayList to hold all of the words that we get from the imported tweets
            ArrayList<String> words = new ArrayList();
            boolean capture=false;

            Capture cam;

            PImage img;              // the webcam image
            int n=5;                 // (initial) number of "pixels" in display
            float dx,dy;
            int x,y;                 // sample point in the image (must have 1px margin)
            PVector vs,vi;           // 'sample' and 'influence' vectors
            float h0,hs;             // background image value at 0 (x,y), or sample point

            int versionNumber = 1;

            boolean snapshot=false;   // to capture drawing window to a file
            boolean outline=true;     // to show/hide "pixel" borders
            boolean show = false;   

            void setup() {
              v=100;
              
             //this talks to our arduino serial port
              String portName = Serial.list()[0]; //change the 0 to a 1 or 2 etc. to match your port
                 for (int i = 0; i < Serial.list().length; i++) {
                  println(Serial.list()[i]);
                 }
            portName = Serial.list()[3]; //change the 0 to a 1 or 2 etc. to match your port
            myPort = new Serial(this, portName, 9600);
              
              myPort.bufferUntil(10);
              
              size(640,480);
               String[] cameras = Capture.list();
              
              if (cameras.length == 0) {
                println("There are no cameras available for capture.");
                exit();
              } else {
                println("Available cameras:");
                for (int i = 0; i < cameras.length; i++) {
                  println(cameras[i]);
                }
               
                // The camera can be initialized directly using an 
                // element from the array returned by list():
                cam = new Capture(this, cameras[4]);
                cam.start();     
              
              n = 5;
                //Set the size of the stage, and the background to black.
              background(0);
              smooth();
              
              //Credentials
              ConfigurationBuilder cb = new ConfigurationBuilder();
              cb.setOAuthConsumerKey("");
              cb.setOAuthConsumerSecret("");
              cb.setOAuthAccessToken("");
              cb.setOAuthAccessTokenSecret("");
              
              TwitterFactory tf = new TwitterFactory(cb.build());
              twitter = tf.getInstance();
             
            }
            }

            void draw() {
              
              if (cam.available() == true) {
                cam.read();
                img = cam.get();
                //int v2 = v/2;
                println(v);
                if( !snapshot ) {pixelateImage(v);}else{image(img,0,0);}
                
                if( snapshot ) {
                save("snapshot.jpg"); 
                snapshot=false;  
                String randomTweet = "example tweet";
                tweetPic(file, randomTweet);
              }

              text( in, 100,100);
              
            }


            if(capture)saveFrame( "frame-#####.png");
            capture=false;

            }


            void serialEvent(Serial myPort){
              
              //this code reads the port from arduino sensor
              if ( myPort.available() > 0) 
              //print("hello");
              {  // If data is available,
              char c = myPort.readChar();         // read it and store it in val
              //print(c);
              if (c == 's') {
                snapshot = true;
                print('s');
              } else if (c == 'd') {
                in = myPort.readStringUntil(10);
                v = int(trim(in));
                //println(v);
                if(v<1)v=10;
                
                
                
                
              }
              }
              
            }

            void keyPressed(){
             if( key=='s' ){
               snapshot = true;
               versionNumber++;
             }
            if( key=='n' ){
               n=round(n/1.25);
             }
            if( key=='N' ){
               n=round(n*1.25);
             }
            if( key=='o' || key=='O' ){
               outline=!outline;
             }
            if( key==' ' ){
               show = !show;
             }

            }
            void pixelateImage(int imgxSize) {
             
              // use ratio of height/width...
              float ratio;
              if (width < height) {
                ratio = height/width;
              }
              else {
                ratio = width/height;
              }
              
              // ... to set pixel height
              int imgxH = int(imgxSize * ratio);
              
              //noStroke();
              stroke(255);
              for (int x=0; x<width; x+=imgxSize) {
                for (int y=0; y<height; y+=imgxH) {
                  fill(img.get(x, y));
                  rect(x, y, imgxSize, imgxH);
                }
              }
            }

            void testPassingFile(File _file)
            {
              println(_file.exists());
              println(_file.getName());
              println(_file.getPath());
              println(_file.canRead());
            }
             
            void mousePressed() {
              capture = !capture;
            }

            void tweetPic(File _file, String theTweet)
            {
              try
                {
                   StatusUpdate status = new StatusUpdate(theTweet);
                   status.setMedia(_file);
                   twitter.updateStatus(status);
                }
                catch (TwitterException te)
                {
                    println("Error: "+ te.getMessage()); 
                }
            }

        </code></pre>
        <h3>Arduino Code:</h3>
        <pre><code>
            unsigned long dur = 200L;
            unsigned int freq = 100;

            void setup() {
                // put your setup code here, to run once:
                pinMode(12,OUTPUT);
                pinMode(7, INPUT_PULLUP);
                Serial.begin(9600);
            }

            void loop() {
                  // put your main code here, to run repeatedly:
                freq = analogRead( A0 );
                Serial.print('d');
                Serial.println(freq);
                if( freq < 200 ){
                   tone(12,freq);
                   delay(400);
                   noTone(12);
                }
                //freq=freq+1;
                delay(500);

                if (!digitalRead(7)) {
                 Serial.println('s');
                  tone(12, freq + 1000);
                     delay(400);
                   noTone(12);
                }
            }
            </pre></code>
        </div>
    </div>
</div>
        <div class="nav">
            <a href="index.html"> < Home</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="goline.html">Next > </a>
        </div>

    </div><!-- /container -->
    <script src="js/classie.js"></script>
    <script src="js/cbpSplitLayout.js"></script>
    </body>
</html>
